"use strict";$(document).ready(function(){$.ajax({type:"post",url:"http://10.31.157.56/JS-1907/project1/php/goodslist.php",dataType:"json",success:function(t){var n="";$.each(t,function(t,i){n+='\n                    <li class="product-item">\n                        <a href="http://10.31.157.56/JS-1907/project1/dist/html/details.html?sid='+i.sid+'">\n                            <img sid="'+i.sid+'"src="'+i.url+'" alt="">\n                        </a>\n                        <div class="pro-info">\n                            <a href="http://10.31.157.56/JS-1907/project1/dist/html/details.html?sid='+i.sid+'">\n                                <p>'+i.title+"</p>\n                            </a>\n                            <span>￥<em>"+i.price+'</em></span>\n                        </div>\n                        <div class="buy-btn">\n                            <a href="javascript:;">加入购物车</a>\n                        </div>\n                    </li>\n                '}),$(".goodslist ul").html(n),$(".goodslist ul").find("li").hover(function(){$(this).children(".buy-btn").show()},function(){$(this).children(".buy-btn").hide()});var e=[],o=[],r=function(t,i,n){var e=new Date;e.setDate(e.getDate()+n),document.cookie=t+"="+encodeURIComponent(i)+";expires="+e},s=function(t){var i=decodeURIComponent(document.cookie).split("; "),n=!0,e=!1,o=void 0;try{for(var r,s=i[Symbol.iterator]();!(n=(r=s.next()).done);n=!0){var a=r.value.split("=");if(t===a[0])return a[1]}}catch(t){e=!0,o=t}finally{try{!n&&s.return&&s.return()}finally{if(e)throw o}}};$(".buy-btn a").on("click",function(){var t=$(this).parents("li").children("a").find("img").attr("sid");if(s("cookiesid")&&s("cookienum")&&(e=s("cookiesid").split(","),o=s("cookienum").split(",")),-1!==$.inArray(t,e)){var i=parseInt(o[$.inArray(t,e)])+1;o[$.inArray(t,e)]=i,r("cookienum",o.toString(),10)}else e.push(t),r("cookiesid",e.toString(),10),o.push(1),r("cookienum",o.toString(),10);alert("添加购物车成功")})}})});